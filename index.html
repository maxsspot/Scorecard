<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0">
        <script src = "script.js"></script>
        <link href='style.css' rel='stylesheet' type='text/css'/>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <title>Golf Scorecard</title>
    </head>
    <body>
        <div id = "gameEnd">
            <br>
            <h1>Game Over!</h1>
            <br>
            <p>
                <span id = "p1sect2"><span id = "p1name2"></span>: <span id = "p1score2">0</span></span><br>
                <span id = "p2sect2"><span id = "p2name2"></span>: <span id = "p2score2">0</span></span><br>
                <span id = "p3sect2"><span id = "p3name2"></span>: <span id = "p3score2">0</span></span><br>
                <span id = "p4sect2"><span id = "p4name2"></span>: <span id = "p4score2">0</span></span><br>
                <span id = "p5sect2"><span id = "p5name2"></span>: <span id = "p5score2">0</span></span>
            </p>
	    <br>
	    <a onclick = "window.location.reload()" style = "color:blue;cursor:pointer;">RESTART</a>
        </div>
        <br>
        <button onclick = "nextHole()" id = "nextHole" class = "topButtons">Next Hole</button>
        <button onclick = "endGame()" id = "endGame" class = "topButtons">End Game</button>
        <br>
        <br>
        <table>
            <tr id = "p1row">
		<input onchange="updateBg1()" type = "color" id = "bgp1color" />
                <td id = "p1namein" contenteditable="true">Player One</td>
                <td><input id = "p1" class = "score" type = "number" /></td>
            </tr>
            <tr id = "p2row">
		<input onchange="updateBg2()" type = "color" id = "bgp2color" />
                <td id = "p2namein" contenteditable="true">Player Two</td>
                <td><input id = "p2" class = "score" type = "number" /></td>
            </tr>
            <tr id = "p3row">
		<input onchange="updateBg3()" type = "color" id = "bgp3color" />
                <td id = "p3namein" contenteditable="true">Player Three</td>
                <td><input id = "p3" class = "score" type = "number" /></td>
            </tr>
            <tr id = "p4row">
		<input onchange="updateBg4()" type = "color" id = "bgp4color" />
                <td id = "p4namein" contenteditable="true">Player Four</td>
                <td><input id = "p4" class = "score" type = "number" /></td>
            </tr>
            <tr id = "p5row">
		<input onchange="updateBg5()" type = "color" id = "bgp5color" />
                <td id = "p5namein" contenteditable="true">Player Five</td>
                <td><input id = "p5" class = "score" type = "number" /></td>
            </tr>
            <p id = "scores">
                <span id = "p1sect"><span id = "p1name"></span>: <span id = "p1score">0</span></span>
                <span id = "p2sect"> | <span id = "p2name"></span>: <span id = "p2score">0</span></span>
                <span id = "p3sect"> | <span id = "p3name"></span>: <span id = "p3score">0</span></span>
                <span id = "p4sect"> | <span id = "p4name"></span>: <span id = "p4score">0</span></span>
                <span id = "p5sect"> | <span id = "p5name"></span>: <span id = "p5score">0</span></span>
            </p>
            <sub>
                <select id = "playersAmount" onchange="updatePlayerCount()">
                    <option value = "1">1 Player</option>
                    <option value = "2">2 Players</option>
                    <option value = "3">3 Players</option>
                    <option value = "4">4 Players</option>
                    <option value = "5">5 Players</option>
                </select>
            </sub>
        </table>
        <script>
            // Name input variables
var p1Input = document.getElementById("p1namein");
var p2Input = document.getElementById("p2namein");
var p3Input = document.getElementById("p3namein");
var p4Input = document.getElementById("p4namein");
var p5Input = document.getElementById("p5namein");

// Player score variables
var p1score = 0;
var p2score = 0;
var p3score = 0;
var p4score = 0;
var p5score = 0;

// Player score input variables
var p1scoreinput = document.getElementById("p1");
var p2scoreinput = document.getElementById("p2");
var p3scoreinput = document.getElementById("p3");
var p4scoreinput = document.getElementById("p4");
var p5scoreinput = document.getElementById("p5");

// Shown scores input variables
var p1ShownScore = document.getElementById("p1score");
var p2ShownScore = document.getElementById("p2score");
var p3ShownScore = document.getElementById("p3score");
var p4ShownScore = document.getElementById("p4score");
var p5ShownScore = document.getElementById("p5score");
var p1ShownScore2 = document.getElementById("p1score2");
var p2ShownScore2 = document.getElementById("p2score2");
var p3ShownScore2 = document.getElementById("p3score2");
var p4ShownScore2 = document.getElementById("p4score2");
var p5ShownScore2 = document.getElementById("p5score2");

// Other variables
var endScreen = document.getElementById("gameEnd");
var playersAmount = document.getElementById("playersAmount");


// Update player name bg color
function updateBg1() {
	p1Input.style.backgroundColor = document.getElementById ("bgp1color").value;
}
function updateBg2() {
	p1Input.style.backgroundColor = document.getElementById ("bgp2color").value;
}
function updateBg3() {
	p1Input.style.backgroundColor = document.getElementById ("bgp3color").value;
}
function updateBg4() {
	p1Input.style.backgroundColor = document.getElementById ("bgp4color").value;
}
function updateBg5() {
	p1Input.style.backgroundColor = document.getElementById ("bgp5color").value;
}
		
// Updates player names where it needs to be shown
setInterval(function() {
	document.getElementById("p1name").innerHTML = p1Input.innerHTML;
	document.getElementById("p2name").innerHTML = p2Input.innerHTML;
	document.getElementById("p3name").innerHTML = p3Input.innerHTML;
	document.getElementById("p4name").innerHTML = p4Input.innerHTML;
	document.getElementById("p5name").innerHTML = p5Input.innerHTML;
	document.getElementById("p1name2").innerHTML = p1Input.innerHTML;
	document.getElementById("p2name2").innerHTML = p2Input.innerHTML;
	document.getElementById("p3name2").innerHTML = p3Input.innerHTML;
	document.getElementById("p4name2").innerHTML = p4Input.innerHTML;
	document.getElementById("p5name2").innerHTML = p5Input.innerHTML;
}, 100);

// Updates player score and what not
function nextHole() {
	if (p1scoreinput.value != "") {
		p1score += parseFloat(p1scoreinput.value);
		p1ShownScore.innerHTML = p1score;
		p1ShownScore2.innerHTML = p1score;
		document.getElementById("p1sect").style.opacity = "1";
	}
	if (p2scoreinput.value != "") {
		p2score += parseFloat(p2scoreinput.value);
		p2ShownScore.innerHTML = p2score;
		p2ShownScore2.innerHTML = p2score;
		document.getElementById("p2sect").style.opacity = "1";
	}
	if (p3scoreinput.value != "") {
		p3score += parseFloat(p3scoreinput.value);
		p3ShownScore.innerHTML = p3score;
		p3ShownScore2.innerHTML = p3score;
		document.getElementById("p3sect").style.opacity = "1";
	}
	if (p4scoreinput.value != "") {
		p4score += parseFloat(p4scoreinput.value);
		p4ShownScore.innerHTML = p4score;
		p4ShownScore2.innerHTML = p4score;
		document.getElementById("p4sect").style.opacity = "1";
	}
	if (p5scoreinput.value != "") {
		p5score += parseFloat(p5scoreinput.value);
		p5ShownScore.innerHTML = p5score;
		p5ShownScore2.innerHTML = p5score;
		document.getElementById("p5sect").style.opacity = "1";
	}

	p1scoreinput.value = "";
	p2scoreinput.value = "";
	p3scoreinput.value = "";
	p4scoreinput.value = "";
	p5scoreinput.value = "";
}

// Ends game
function endGame() {
	endScreen.style.opacity = "1";
	endScreen.style.pointerEvents = "all";

	if (p1score > 0) {
		document.getElementById("p1sect2").style.display = "inline-block";
	} else {
		document.getElementById("p1sect2").style.display = "none";
	}

	if (p2score > 0) {
		document.getElementById("p2sect2").style.display = "inline-block";
	} else {
		document.getElementById("p2sect2").style.display = "none";
	}

	if (p3score > 0) {
		document.getElementById("p3sect2").style.display = "inline-block";
	} else {
		document.getElementById("p3sect2").style.display = "none";
	}

	if (p4score > 0) {
		document.getElementById("p4sect2").style.display = "inline-block";
	} else {
		document.getElementById("p4sect2").style.display = "none";
	}

	if (p5score > 0) {
		document.getElementById("p5sect2").style.display = "inline-block";
	} else {
		document.getElementById("p5sect2").style.display = "none";
	}
}

function removeAllPlayers() {
	document.getElementById("p1row").style.display = "none";
	document.getElementById("p2row").style.display = "none";
	document.getElementById("p3row").style.display = "none";
	document.getElementById("p4row").style.display = "none";
	document.getElementById("p5row").style.display = "none";
}

function updatePlayerCount() {
	if (playersAmount.value == 1) {
		removeAllPlayers();
		document.getElementById("p1row").style.display = "block";
	} else if (playersAmount.value == 2) {
		removeAllPlayers();
		document.getElementById("p1row").style.display = "block";
		document.getElementById("p2row").style.display = "block";
	} else if (playersAmount.value == 3) {
		removeAllPlayers();
		document.getElementById("p1row").style.display = "block";
		document.getElementById("p2row").style.display = "block";
		document.getElementById("p3row").style.display = "block";
	} else if (playersAmount.value == 4) {
		removeAllPlayers();
		document.getElementById("p1row").style.display = "block";
		document.getElementById("p2row").style.display = "block";
		document.getElementById("p3row").style.display = "block";
		document.getElementById("p4row").style.display = "block";
	} else if (playersAmount.value == 5) {
		removeAllPlayers();
		document.getElementById("p1row").style.display = "block";
		document.getElementById("p2row").style.display = "block";
		document.getElementById("p3row").style.display = "block";
		document.getElementById("p4row").style.display = "block";
		document.getElementById("p5row").style.display = "block";
	}
}
        </script>
    </body>
</html>
